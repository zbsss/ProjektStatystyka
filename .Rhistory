install.packages("sqldf")
library(sqldf)
install.packages("zeallot")
library(sqldf)
install.packages("backports")
library(sqldf)
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"])
PATH <- "master.csv"
data <- read.csv(PATH,header = TRUE, sep=",")
library(DataExplorer)
library(maps)
library(sqldf)
names(data)[1] <- "country"
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"])
plot(data$age [data$sex=="male"], data$suicides.100k.pop[data$sex=="male"])
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides for 100k pop. against age")
plot(data$age [data$sex=="male"], data$suicides.100k.pop[data$sex=="male"],main="Plot of the number of male suicides for 100k pop. against age")
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides per 100k population, against age", xlabel = "Age", ylabel="Number of suicides for 100k")
plot(data$age [data$sex=="male"], data$suicides.100k.pop[data$sex=="male"],main="Plot of the number of male suicides per 100k population, against age")
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides per 100k population, against age", xlabel = "Age", ylabel="Number of suicides per 100k population")
plot(data$age [data$sex=="male"], data$suicides.100k.pop[data$sex=="male"],main="Plot of the number of male suicides per 100k population, against age", xlabel = "Age", ylabel="Number of suicides per 100k population")
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides per 100k population, against age", xlabel = "Age", ylabel="Number of suicides per 100k population")
plot(data$age [data$sex=="male"], data$suicides.100k.pop[data$sex=="male"],main="Plot of the number of male suicides per 100k population, against age", xlabel = "Age", ylabel="Number of suicides per 100k population")
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides per 100k population, against age", xlabel = "Age", ylabel="Number of suicides per 100k population")
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides per 100k population, against age")
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides per 100k population, against age", xlab = "Age", ylab="Number of suicides per 100k population")
plot(data$age [data$sex=="male"], data$suicides.100k.pop[data$sex=="male"],main="Plot of the number of male suicides per 100k population, against age", xlab = "Age", ylab="Number of suicides per 100k population")
plot(data$age [data$sex=="female"], data$suicides.100k.pop[data$sex=="female"],main="Plot of the number of female suicides per 100k population, against age", xlab = "Age", ylab="Number of suicides per 100k population")
plot(data$age [data$sex=="male"], data$suicides.100k.pop[data$sex=="male"],main="Plot of the number of male suicides per 100k population, against age", xlab = "Age", ylab="Number of suicides per 100k population")
mean(data$suicides.100k.pop[data$sex == "male"])
mean(data$suicides.100k.pop[data$sex == "female"])
plot(data$age, data$suicides.100k.pop)
fit <- lm(data$suicides.100k.pop ~ data$age)
abline(fit,color="red")
abline(fit,col="red")
plot(data$age, data$suicides_no)
sqldf("SELECT DISTINCT data.age, AVG([suicides.100k.pop]) FROM data GROUP BY data.age")
sqldf("SELECT DISTINCT data.age, AVG([suicides_no]) FROM data GROUP BY data.age")
unique(data$country)
count(unique(data$country))
length(unique(data$country))
head(sqldf("select data.country,avg([suicides_no]) from data group by data.country order by avg([suicides_no]) desc"),10)
sqldf("select data.country,avg([suicides.100k.pop]) from data  where data.country='Poland' group by data.country order by avg([suicides.100k.pop]) desc ")
#dodac gdzie jest najmniej
head(sqldf("select data.country,avg([suicides_no]) from data group by data.country order by avg([suicides_no]) desc"),10)
sqldf("select data.country,avg([suicides_no]) from data  where data.country='Poland' group by data.country order by avg([suicides_no]) desc ")
sqldf("SELECT DISTINCT data.age, AVG([suicides.100k.pop]) FROM data GROUP BY data.age")
plot(data$age, data$suicides.100k.pop)
sqldf("SELECT DISTINCT data.age, AVG([suicides.100k.pop]) FROM data GROUP BY data.age")
plot(data$age, data$suicides.100k.pop,xlab="Wiek",ylab="liczba samobójstw na 100k populacji")
sqldf("SELECT DISTINCT data.age, AVG([suicides_no]) FROM data GROUP BY data.age")
plot(data$age, data$suicides_no,xlab="Wiek",ylab="liczba samobójstw na 100k populacji")
sqldf("SELECT DISTINCT data.age, AVG([suicides_no]) FROM data GROUP BY data.age")
plot(data$age, data$suicides_no,xlab="Wiek",ylab="liczba samobójstw")
PATH <- "master.csv"
data <- read.csv(PATH,header = TRUE, sep=",")
library(DataExplorer)
library(maps)
library(sqldf)
names(data)[1] <- "country"
sqldf("SELECT DISTINCT data.age, AVG([suicides.100k.pop]) FROM data GROUP BY data.age")
plot(data$age, data$suicides.100k.pop,xlab="Wiek",ylab="liczba samobójstw na 100k populacji",main="Wykres ")
sqldf("SELECT DISTINCT data.age, AVG([suicides_no]) FROM data GROUP BY data.age")
plot(data$age, data$suicides_no,xlab="Wiek",ylab="liczba samobójstw",main="Wykres liczby samobójstw od wieku")
plot(data$gdp_per_capita....,data$suicides_no,main="",xlab="",ylab="")
plot(data$gdp_per_capita....,data$suicides.100k.pop,main="",xlab="",ylab="")
plot(data$gdp_for_year....,data$suicides_no,main="",xlab="",ylab="")
plot(data$gdp_per_capita....,data$suicides.100k.pop,main="Wykres liczby samobójstw ba 100k populacji od PKB per capita",xlab="",ylab="")
plot(data$gdp_per_capita....,data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k populacji od PKB per capita",xlab="",ylab="")
plot(data$gdp_per_capita....,data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k populacji od PKB per capita",xlab="PKB per capita",ylab="liczba samobójstw na 100k populacji")
plot(data$HDI.for.year, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k populacji od WRS (Wskaźnik rozwoju społecznego)",xlab="WRS",ylab="liczba samobójstw na 100k populacji")
plot(data$HDI.for.year, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k populacji od WRS",xlab="WRS",ylab="liczba samobójstw na 100k populacji")
t <- c()
s <- c()
for(y in unique(data$year)) {t <- c(t, y); s <- c(s, mean(data$suicides.100k.pop[data$year == y]))}
plot(t,s,main="",xlab="",ylab="")
plot(data$HDI.for.year, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k populacji od WRS",xlab="WRS",ylab="liczba samobójstw na 100k populacji")
t <- c()
s <- c()
for(y in unique(data$year)) {t <- c(t, y); s <- c(s, mean(data$suicides.100k.pop[data$year == y]))}
plot(t,s,main="",xlab="",ylab="")
plot(data$gdp_per_capita....,data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k populacji od PKB per capita",xlab="PKB per capita",ylab="liczba samobójstw na 100k populacji")
t <- c()
s <- c()
for(y in unique(data$year)) {t <- c(t, y); s <- c(s, mean(data$suicides.100k.pop[data$year == y]))}
plot(t,s,main="",xlab="",ylab="")
t <- c()
s <- c()
for(y in unique(data$year)) {t <- c(t, y); s <- c(s, mean(data$suicides.100k.pop[data$year == y]))}
plot(t,s,main="Wykres średniej liczby samobójstw na 100k pop. od roku ",xlab="Rok",ylab="Średnia liczba samobójstw na 100k pop. w danym roku")
t <- c()
s <- c()
for(y in unique(data$year)) {t <- c(t, y); s <- c(s, mean(data$suicides.100k.pop[data$year == y]))}
plot(t,s,main="Wykres średniej liczby samobójstw na 100k pop. od roku ",xlab="Rok",ylab="Średnia liczba samobójstw na 100k populacji")
plot(data$year,data$suicides.100k.pop)
plot(data$year,data$suicides_no)
plot_density(data$year,data$suicides_no)
plot_density(data$year,data$suicides.100k.pop)
plot_density(data$year,data$suicides.100k.pop)
density(data$year,data$suicides.100k.pop)
barplot(data$year,data$suicides.100k.pop)
barplot(data$year,data$suicides_no)
density(data$year,data$suicides_no)
density(data$year,data$suicides.100k.pop)
plot_density(data$year,data$suicides_no)
plot(data$sex, data$suicides.100k.pop,main="",xlab="",ylab="")
plot(data$sex, data$suicides.100k.pop,main="",xlab="",ylab="")
plot(data$sex, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k populacji od płci",xlab="Płeć",ylab="liczby samobójstw na 100k populacji")
u<-c()
t<-c()
s<-c()
for(co in unique(data$country))
{
u<- c(u,co)
t<- c(t, mean(data$suicides.100k.pop[data$country==co]));
s<- c(s, mean(data$population[data$country == co]));
}
plot(t,s,main="",xlab="",ylab="")
u<-c()
t<-c()
s<-c()
for(co in unique(data$country))
{
u<- c(u,co)
t<- c(t, mean(data$suicides.100k.pop[data$country==co]));
s<- c(s, mean(data$population[data$country == co]));
}
plot(s,t,main="Wykres ",xlab="",ylab="")
u<-c()
t<-c()
s<-c()
for(co in unique(data$country))
{
u<- c(u,co)
t<- c(t, mean(data$suicides.100k.pop[data$country==co]));
s<- c(s, mean(data$population[data$country == co]));
}
plot(s,t,main="Wykres średniej liczby samobójstw na 100k pop. od populacji",xlab="",ylab="")
plot(data$population,data$suicides.100k.pop,main="",xlab="",ylab="")
plot(data$population,data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k pop. od populacji",xlab="Populacja",ylab="Liczby samobójstw na 100k populacji")
u<-c()
t<-c()
s<-c()
for(co in unique(data$country))
{
u<- c(u,co)
t<- c(t, mean(data$suicides.100k.pop[data$country==co]));
s<- c(s, mean(data$population[data$country == co]));
}
plot(s,t,main="Wykres średniej liczby samobójstw na 100k pop. od populacji",xlab="Populacja",ylab="Średniej liczby samobójstw na 100k pop.")
t<-c();
for(co in unique(data$generation))
{
t<- c(t, mean(data$suicides.100k.pop[data$generation==co]));
}
plot(unique(data$generation),t);
plot(data$generation, data$suicides.100k.pop)
fit <- lm(data$suicides.100k.pop ~ data$age)
plot(data$age,data$suicides.100k.pop)
abline(fit)
plot(data$gdp_per_capita....,data$suicides.100k.pop)
fit <- lm(data$suicides.100k.pop ~ data$gdp_per_capita....)
abline(fit)
plot(data$generation,data$suicides.100k.pop)
plot(data$year,data$suicides.100k.pop)
fit <- lm(data$suicides.100k.pop ~ data$year)
abline(fit)
plot(data$year,data$suicides_no)
plot(data$generation,data$suicides_no)
plot(data$population,data$suicides.100k.pop)
fit <- lm(data$suicides.100k.pop ~ data$population)
abline(fit,col="red")
fit <- lm(data$suicides.100k.pop ~ data$HDI.for.year)
plot(data$HDI.for.year,data$suicides.100k.pop)
abline(fit,col="red")
plot(data$year,data$suicides.100k.pop)
plot(data$years,data$suicides.100k.pop)
plot(data$year[data$country == "Poland"],data$suicides.100k.pop)
plot(data$year[data$country == "Poland"],data$suicides.100k.pop[data$country == "Poland"])
plot(data$year[data$country == "Poland" & data$sex == "male"],data$suicides.100k.pop[data$country == "Poland" & data$sex == "male"])
plot(data$year[data$country == "Poland" & data$sex == "female"],data$suicides.100k.pop[data$country == "Poland" & data$sex == "female"])
plot(data$age [data$age ~= "5-14 years"],data$suicides.100k.pop[data$age ~= "5-14 years"])
plot(data$age [data$age != "5-14 years"],data$suicides.100k.pop[data$age != "5-14 years"])
plot(data$age [data$age != "5-14 years"],data$suicides.100k.pop[data$age != "5-14 years"])
fit <- lm (data$suicides.100k.pop[data$age != "5-14 years"] ~ data$age [data$age != "5-14 years"])
abline(fit)
abline(fit,col="red")
plot(data$generation, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k pop. dla generacji",xlab="",ylab="")
plot(data$generation, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k pop. dla generacji",xlab="",ylab="")
plot(data$generation, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k pop. dla poszczególnych generacji",xlab="",ylab="")
plot(data$generation, data$suicides.100k.pop,main="Wykres liczby samobójstw na 100k pop. dla poszczególnych generacji",xlab="Generacja",ylab="Liczba samobójstw na 100k populacji")
t<-c();
for(co in unique(data$generation))
{
t<- c(t, mean(data$suicides.100k.pop[data$generation==co]));
}
plot(unique(data$generation),t,main="",xlab="",ylab="");
t<-c();
for(co in unique(data$generation))
{
t<- c(t, mean(data$suicides.100k.pop[data$generation==co]));
}
plot(unique(data$generation),t,main="Wykres średniej liczby samobójstw na 100k pop. dla poszczególnych generacji",xlab="Generacja",ylab="Średnia liczba samobójstw na 100k populacji");
t<-c();
for(co in unique(data$generation))
{
t<- c(t, mean(data$suicides.100k.pop[data$generation==co]));
}
plot(unique(data$generation),t,main="Wykres średniej liczby samobójstw na 100k pop. dla generacji",xlab="Generacja",ylab="Średnia liczba samobójstw na 100k populacji");
plot(data$age [data$age != "5-14 years"],data$suicides.100k.pop[data$age != "5-14 years"])
fit <- lm (data$suicides.100k.pop[data$age != "5-14 years"] ~ data$age [data$age != "5-14 years"],main="Wykres liczby samobójstw na 100k pop. od wieku",xlab="Wiek",ylab="Liczba samobójstw na 100k populacji")
summary(fit)
abline(fit,col="red")
plot(data$age [data$age != "5-14 years"],data$suicides.100k.pop[data$age != "5-14 years"],main="Wykres liczby samobójstw na 100k pop. od wieku",xlab="Wiek",ylab="Liczba samobójstw na 100k populacji")
fit <- lm (data$suicides.100k.pop[data$age != "5-14 years"] ~ data$age [data$age != "5-14 years"])
summary(fit)
abline(fit,col="red")
